<!doctype html>
<html lang="ko">
<head>
    <meta charset="UTF-8"/>
    <link href="/vite.svg" rel="icon" type="image/svg+xml"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>Bookmarklet ì„¤ì¹˜</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f5f5;
            padding: 40px 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        h1 {
            color: #333;
            margin-bottom: 10px;
        }

        h2 {
            color: #555;
            font-size: 18px;
            margin-top: 30px;
            margin-bottom: 15px;
            border-bottom: 2px solid #007bff;
            padding-bottom: 10px;
        }

        p {
            color: #666;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        code {
            background: #f5f5f5;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
        }

        .bookmarklet-link {
            display: inline-block;
            padding: 12px 24px;
            background: #28a745;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            cursor: grab;
            font-size: 14px;
            transition: all 0.2s;
            user-select: none;
        }

        .bookmarklet-link:hover {
            background: #218838;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .bookmarklet-link:active {
            cursor: grabbing;
            transform: translateY(0);
        }

        .section {
            margin-top: 20px;
            padding: 20px;
            background: #f8f9fa;
            border-left: 4px solid #007bff;
            border-radius: 4px;
        }

        .section ol {
            margin-left: 20px;
            color: #555;
        }

        .section li {
            margin: 10px 0;
            line-height: 1.6;
        }

        .note {
            margin-top: 20px;
            padding: 15px;
            background: #fff3cd;
            border: 1px solid #ffc107;
            border-radius: 4px;
            color: #856404;
            font-size: 14px;
        }

        .warning {
            margin-top: 20px;
            padding: 15px;
            background: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 4px;
            color: #721c24;
            font-size: 14px;
        }

        .demo {
            margin-top: 30px;
            padding: 20px;
            background: #e7f3ff;
            border: 2px dashed #007bff;
            border-radius: 4px;
        }

        .demo h3 {
            margin-top: 0;
            color: #007bff;
            font-size: 16px;
        }
    </style>
</head>
<body>
<div class="container">
    <h1>ğŸ”– Bookmarklet ì„¤ì¹˜</h1>
    <p>React 19 ê¸°ë°˜ Bookmarklet ë¼ì´ë¸ŒëŸ¬ë¦¬</p>

    <h2>ì„¤ì¹˜ ë°©ë²•</h2>
    <p>ì•„ë˜ ë§í¬ë¥¼ <strong>ë§ˆìš°ìŠ¤ë¡œ ë“œë˜ê·¸í•˜ì—¬</strong> ë¶ë§ˆí¬ë°”ì— ë†“ìœ¼ì„¸ìš”:</p>
    <div style="margin: 20px 0;">
        <a class="bookmarklet-link" draggable="true" href="javascript:void(0)" id="bookmarklet-link">
            ğŸ“Œ My Bookmarklet
        </a>
    </div>

    <div class="section">
        <h2>ì„¤ì¹˜ ë‹¨ê³„ë³„ ì„¤ëª…</h2>
        <ol>
            <li>ìœ„ì˜ <strong>ğŸ“Œ My Bookmarklet</strong> ë§í¬ë¥¼ ë§ˆìš°ìŠ¤ë¡œ ëˆ„ë¥´ì„¸ìš”</li>
            <li>ë§ˆìš°ìŠ¤ ë²„íŠ¼ì„ <strong>ëˆ„ë¥¸ ìƒíƒœë¡œ</strong> ë¸Œë¼ìš°ì €ì˜ ë¶ë§ˆí¬ë°”ë¡œ ë“œë˜ê·¸í•˜ì„¸ìš”</li>
            <li>ë¶ë§ˆí¬ë°”ì— ë“œë¡­í•˜ì—¬ ë¶ë§ˆí¬ë¡œ ë“±ë¡í•˜ì„¸ìš”</li>
            <li>ì›í•˜ëŠ” ì›¹ì‚¬ì´íŠ¸ì—ì„œ ë“±ë¡í•œ ë¶ë§ˆí¬ë¥¼ í´ë¦­í•˜ë©´ Bookmarkletì´ ì‹¤í–‰ë©ë‹ˆë‹¤</li>
        </ol>
    </div>

    <div class="demo">
        <h3>í…ŒìŠ¤íŠ¸ (ê°œë°œ ëª¨ë“œ)</h3>
        <p>ë¶ë§ˆí¬ ì¶”ê°€ ì—†ì´ ë°”ë¡œ í…ŒìŠ¤íŠ¸í•˜ë ¤ë©´ ìœ„ ë§í¬ë¥¼ í´ë¦­í•˜ì„¸ìš”.</p>
    </div>

    <div class="note">
        <strong>ğŸ’¡ ë¶ë§ˆí¬ë°” í‘œì‹œ ë°©ë²•</strong>
        <ul style="margin: 10px 0; padding-left: 20px;">
            <li><strong>Chrome:</strong> Ctrl+Shift+B (Windows) / Cmd+Shift+B (Mac)</li>
            <li><strong>Firefox:</strong> Ctrl+Shift+B (Windows) / Cmd+Shift+B (Mac)</li>
            <li><strong>Edge:</strong> Ctrl+Shift+B (Windows)</li>
            <li><strong>Safari:</strong> Cmd+Option+B (Mac)</li>
        </ul>
    </div>

    <div class="warning">
        <strong>âš ï¸ ì°¸ê³ ì‚¬í•­</strong>
        <ul style="margin: 10px 0; padding-left: 20px;">
            <li>ë¶ë§ˆí¬ë¦¿ì€ ëª¨ë“  ì›¹ì‚¬ì´íŠ¸ì—ì„œ ì‘ë™í•©ë‹ˆë‹¤</li>
            <li>ë³´ì•ˆ ì„¤ì •ì´ ìˆëŠ” ì›¹ì‚¬ì´íŠ¸ì—ì„œëŠ” ì‘ë™í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤</li>
            <li>ë‹¤ì‹œ í´ë¦­í•˜ë©´ UIê°€ ë‹«íˆê±°ë‚˜ í† ê¸€ë©ë‹ˆë‹¤</li>
        </ul>
    </div>

    <div class="section">
        <h2>ë¹Œë“œ ë° ë°°í¬ (ê°œë°œììš©)</h2>
        <ol>
            <li>ë¡œì»¬ì—ì„œ <code>pnpm build</code> ì‹¤í–‰</li>
            <li><code>dist/bookmarklet.iife.js</code> íŒŒì¼ ìƒì„± í™•ì¸</li>
            <li>ìœ„ì˜ ë¶ë§ˆí¬ ë§í¬ë¥¼ ë“œë˜ê·¸í•˜ì—¬ ì¶”ê°€í•˜ì„¸ìš”</li>
        </ol>
    </div>
</div>

<script>
    async function initializeBookmarklet() {
        const link = document.getElementById('bookmarklet-link')
        if (!link) return

        try {
            const res = await fetch('/dist/bookmarklet.iife.js')
            if (!res.ok) {
                alert('dist/bookmarklet.iife.jsë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.')
                return
            }

            let code = await res.text()

            const bookmarkletUrl = 'javascript:' + code

            console.log('Bookmarklet Length:', bookmarkletUrl.length)

            link.href = bookmarkletUrl

            link.addEventListener('dragstart', (e) => {
                const dt = e.dataTransfer
                if (!dt) return
                dt.effectAllowed = 'copy'
                dt.setData('text/plain', bookmarkletUrl)
                dt.setData('text/uri-list', bookmarkletUrl)
                dt.setData('text/html', '<a href="' + bookmarkletUrl + '">ğŸ“Œ My Bookmarklet</a>')
            })

            link.addEventListener('click', (e) => {
                e.preventDefault()
                const s = document.createElement('script')
                s.textContent = code
                document.body.appendChild(s)
            })
        } catch (err) {
            alert('Bookmarklet ìƒì„± ì‹¤íŒ¨: ' + err.message)
        }
    }

    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initializeBookmarklet)
    } else {
        initializeBookmarklet()
    }
</script>
</body>
</html>